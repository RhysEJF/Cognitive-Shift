---
import BaseLayout from '../../layouts/BaseLayout.astro';
import GoldRule from '../../components/GoldRule.astro';
import HeroCrest from '../../components/HeroCrest.astro';
---
<BaseLayout
  title="Complete Your Profile â€” The Cognitive Shift"
  description="Complete your profile to request access to The Cognitive Shift community."
  ogUrl="https://thecognitiveshift.com/signup/"
>
  <main>
    <!-- No-email fallback (hidden by default, shown by JS) -->
    <section id="no-email-state" class="signup-q-hero" style="display: none;">
      <div class="signup-q-hero-content">
        <h1 class="signup-q-title">Looks like you haven't signed up yet</h1>
        <p class="signup-q-body">
          You'll need to join first before completing your profile.
        </p>
        <GoldRule />
        <a href="/" class="signup-q-back-link">Back to the landing page</a>
      </div>
    </section>

    <!-- Form state -->
    <section id="form-state" class="signup-q-hero">
      <div class="signup-q-hero-content">
        <div class="signup-q-eyebrow">One more thing</div>
        <h1 class="signup-q-title">Tell us about yourself</h1>
        <p class="signup-q-body">
          Complete your profile to request access to the community.
        </p>
        <GoldRule />
      </div>

      <div class="signup-q-card">
        <div class="signup-card-header">Your profile</div>
        <form id="signup-questions-form">
          <!-- Question 1 -->
          <div class="signup-q-field">
            <label class="signup-q-label" for="q-role">
              What do you do? <span class="signup-q-required">*</span>
            </label>
            <input
              type="text"
              id="q-role"
              name="role"
              required
              placeholder="e.g., Head of Product at Stripe"
              class="signup-q-input"
            />
          </div>

          <!-- Question 2 -->
          <div class="signup-q-field">
            <label class="signup-q-label">
              Where can we find you? <span class="signup-q-required">*</span>
            </label>
            <div class="signup-q-url-group">
              <div class="signup-q-url-row">
                <span class="signup-q-url-label">LinkedIn</span>
                <input
                  type="url"
                  id="q-linkedin"
                  name="linkedin_url"
                  placeholder="linkedin.com/in/..."
                  class="signup-q-input"
                />
              </div>
              <div class="signup-q-url-row">
                <span class="signup-q-url-label">X / Twitter</span>
                <input
                  type="url"
                  id="q-twitter"
                  name="twitter_url"
                  placeholder="x.com/..."
                  class="signup-q-input"
                />
              </div>
              <div class="signup-q-url-row">
                <span class="signup-q-url-label">GitHub</span>
                <input
                  type="url"
                  id="q-github"
                  name="github_url"
                  placeholder="github.com/..."
                  class="signup-q-input"
                />
              </div>
            </div>
            <div class="signup-q-note">At least one link is required. The more you share, the easier it is to connect.</div>
          </div>

          <!-- Question 3 -->
          <div class="signup-q-field">
            <label class="signup-q-label" for="q-motivation">
              What are you hoping to get from The Cognitive Shift? <span class="signup-q-required">*</span>
            </label>
            <textarea
              id="q-motivation"
              name="motivation"
              required
              rows="4"
              placeholder="What problems are you working on? What would make this worth your time?"
              class="signup-q-input signup-q-textarea"
            ></textarea>
          </div>

          <!-- Error message slot -->
          <div id="signup-q-error" class="signup-q-error" style="display: none;"></div>

          <!-- Submit -->
          <button type="submit" class="signup-q-submit">Enter the circle</button>
        </form>
      </div>
    </section>

    <!-- Success state (hidden by default) -->
    <section id="success-state" class="signup-q-hero" style="display: none;">
      <div class="signup-q-hero-content">
        <HeroCrest showCrosshairs={false} />
        <div class="signup-q-eyebrow">You're in</div>
        <h1 class="signup-q-title">Welcome to the circle.</h1>
        <p class="signup-q-body">
          The Swarm Operators Discord is where the real conversations happen. Join now to connect with the people building, deploying, and thinking deeply about AI workforces, and what they mean for the future of work and human potential.
        </p>
        <GoldRule />
        <a href="https://discord.gg/sU2DuH6g96" target="_blank" rel="noopener" class="signup-q-submit" style="display: inline-block; text-align: center; text-decoration: none; margin-bottom: 1rem;">Join the Discord</a>
        <p class="signup-q-note">This is a private community. Please keep conversations constructive and confidential.</p>
      </div>
    </section>
  </main>

  <script src="/js/signup-questions.js" is:inline></script>
</BaseLayout>
